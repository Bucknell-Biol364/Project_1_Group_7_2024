Exploring normality of data
-determine if a data set is normally distributed or not
-normalize a set of data that isn't normal
-get rid of NA

read in the data
make sure the data is read in correctly
plot the residuals
read the residuals
figure out how to normalize (log)
plot residuals of normalized
get rid of NAs
prep for hypothesis (Bill Length is different between the 3 species, Bill Length in Penguins from Torgersen's Island is Sex Dependent.)


### 1. Start by loading the data and packages

```{r}
library(readxl)

torgersenpen <- read_excel("penguins.xlsx", sheet = "Torgersen Island")
biscoepen <- read_excel("penguins.xlsx", sheet = "Biscoe Island")
dreampen <- read_excel("penguins.xlsx", sheet = "Dream Island")

torgbisc <- rbind(torgersenpen, biscoepen)

full <- rbind(torgbisc, dreampen)
fullframe <- as.data.frame(full)
View(fullframe)
```

#load required packages
```{r}
if (!require("conflicted")) install.packages("conflicted"); library(conflicted) # For dealing with conflicts
if (!require("tidyverse")) install.packages("tidyverse"); library(tidyverse) # For everything
conflict_prefer_all("dplyr", quiet = TRUE)
if (!require("dplyr")) install.packages("dplyr"); library(dplyr)
if (!require("ggplot2")) install.packages("ggplot2"); library(ggplot2)
if (!require("cowplot")) install.packages("cowplot"); library(cowplot)
```


### 2. Make sure the data is read correctly

#Check columns and rows
```{r}
nrow(fullframe)
ncol(fullframe)
View(fullframe)
```

#Check top and bottom of data
```{r}
head(fullframe)
tail(fullframe)
```

#get rid of nas
```{r}

sum(is.na(fullframe))

```


#Run glimpse and catagorize data
```{r}
glimpse(fullframe)

fullframe |> 
  mutate(sex = as.factor(sex),
         island = factor(island, levels = c("Dream", "Torgersen", "Biscoe")),
         species = as.factor(species)) -> fullframe


fullframe |>
  mutate(bill_length_mm = as.numeric(bill_length_mm),
         bill_depth_mm = as.numeric(bill_depth_mm),
         flipper_length_mm = as.numeric(flipper_length_mm),
         body_mass_g = as.numeric(body_mass_g)) -> fullframe
summary(fullframe)
```

#Check 'n's
```{r}
str(fullframe)
table(fullframe$bill_length_mm)
table(fullframe$sex)
```

### 3. Plot the residuals

```{r}
ggplot(fullframe) +
  aes(x = bill_length_mm) +
  geom_histogram(bins = 100) +
  theme_cowplot()

ggplot(fullframe) +
  aes(x = bill_length_mm, colour = sex, fill = sex) +
  geom_histogram(bins = 100, position = "dodge") +
  theme_cowplot()


```
Bill Length is different between the 3 species, Bill Length in Penguins from Torgersen's Island is Sex Dependent
```{r}
lmspecieslength <- lm(bill_length_mm ~ species, data = fullframe)
summary(lmspecieslength)

lmsexlength <- lm(bill_length_mm ~ sex + island, data = fullframe)
summary(lmsexlength)


plot(lmspecieslength)
plot(lmsexlength)
```


### 4. Discuss the residuals

figure this out

### 5. Figure out how to normalize the data and plot residuals

```{r}
ggplot(fullframe) +
  aes(x = log10(bill_length_mm)) +
  geom_histogram(bins = 100) +
  theme_cowplot()

```

```{r}
lmlogspecieslength <- lm(log10(bill_length_mm) ~ species, data = fullframe)
summary(lmlogspecieslength)

plot(lmlogspecieslength)
```



```{r}
ggplot(fullframe) +
  aes(x = log10(bill_length_mm), colour = sex, fill = sex) +
  geom_histogram(bins = 100, position = "dodge") +
  theme_cowplot()
```


```{r}
lmlogsexlength <- lm(log10(bill_length_mm) ~ sex + island, data = fullframe)
summary(lmlogsexlength)

plot(lmlogsexlength)
```




